7장 연산자
=================================================================

- 연산자(operator) = 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 만든다.
- 연산의 대상 = 피연산자 = 값으로 평가될 수 있는 표현식

# 7-1. 산술 연산자 (arithmetic operator)
- 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다.
- 산술 연산이 불가능한 경우, NaN 반환
- 피연산자의 개수에 따라 이항 산술 연산자와 단항 연산자로 구분


# 7-1-1. 이항(binary) 산술 연산자
- 피연산자를 산술 연산하여 숫자 값을 만든다.
- 피연산자의 값을 변경하는 부수 효과(side effect)가 없다.
- 어떤 산술 연산을 해도 피연산자의 값이 바뀌는 경우는 없고, 언제나 새로운 값을 만든다.
- +, -, *, /, %


# 7-1-2. 단항(unary) 산술 연산자
- 1개의 피연산자를 산술 연산하여 숫자 값을 만든다.
- 증가/감소(++/--) 연산자는 피연산자의 값을 변경하는 부수 효과가 있다.
  - 즉, 증가/감소 연산을 하면 피연산자의 값을 변경하는 암묵적 할당이 이뤄진다.
- ++, --, +, -

``````
var x = 1;

// ++, -- 연산자는 피연산자의 값을 변경하는 암묵적 할당이 이뤄진다.
x++; // x = x + 1;
console.log(x); // 2
``````

- 증가/감소(++/--) 연산자는 위치에 의미가 있다.
  - 피연산자 앞에 위치 : 전위 증가/감소 연산자(prefix increment/decrement operator)
    - 먼저 피연산자의 값을 증가/감소시킨 후, 다른 연산을 수행
  - 피연산자 뒤에 위치 : 후위 증가/감소 연산자(postfix increment/decrement operator)
    - 먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소

``````
var x = 5, result;

// 선할당 후증가 (postfix increment operator)
result = x++;
console.log(result, x); // 5, 6

// 선증가 후할당 (prefix increment operator)
result = ++x;
console.log(result, x); // 7, 7

// 선할당 후감소 (postfix decrement operator)
result = x--;
console.log(result, x); // 7, 6

// 선감소 후할당 (prefix decrement operator)
result = --x;
console.log(result, x); // 5, 5

// 아무런 효과가 없다.
+10; // --> 10
+(-10) // --> -10

// 문자열을 숫자로 타입 변환한다.
-'10'; // --> -10

// 불리언 값을 숫자로 타입 변환한다.
-true; // --> -1

// 문자열은 숫자로 타입 변환할 수 없으므로 NaN 을 반환한다.
-'Hello' // --> NaN
``````

# 7-1-3. 문자열 연결 연산자
- '+ 연산자'는 피연산자 중 하나 이상이 문자열인 경우, 문자열 연결 연산자로 동작
- 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 한다.
  - 이를 암묵적 타입 변환(implicit coercion) 또는 타입 강제 변환(type coercion) 이라고 한다.

``````
// 문자열 연결 연산자
'1' + 2; // --> '12'

// true 는 1 로 타입 변환된다.
1 + true; // --> 2

// false 는 0 으로 타입 변환된다.
1 + false; // --> 1

// null 은 0 으로 타입 변환된다.
1 + null; // --> 1

// undefined 는 숫자로 타입 변환되지 않는다.
+undefined; // --> NaN
1 + undefined; // --> NaN
``````

# 7-2. 할당 연산자 (assignment operator)
- 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당
- =, +=, -=, *=, /=, %=

``````
var x;

x = 10;
console.log(x); // 10

x += 5; // x = x + 5
console.log(x); // 15

x -= 5; // x = x - 5
console.log(x); // 10

x *= 5; // x = x * 5
console.log(x); // 50

x /= 5; // x = x / 5
console.log(x); // 10

x %= 5; // x = x % 5
console.log(x); // 0
``````

``````
var x;

// 할당문은 표현식인 문이다.
console.log(x = 10); // 10
``````


# 7-3. 비교 연산자 (comparison operator)
- 좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환한다.

## 7-3-1. 동등/일치 비교 연산자
- 동등 비교(loose equality) 연산자와 일치 비교(strict equality) 연산자는 좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교해 불리언 값을 반환한다.
- 하지만 비교하는 엄격성의 정도가 다르다.
- 동등 비교 연산자(==)는 느슨한 비교, 일치 비교 연산자(===)는 엄격한 비교
- 동등 비교 연산자는 좌항과 우항의 피연산자를 비교할 때, 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교한다.
- 일치 비교 연산자는 좌항과 우항의 피연산자가 타입도 같고 값도 같은 경우에 한하여 true 를 반환한다.
- ==, ===, !=(부동등), !==(불일치)


## 7-3-2. 대소 관계 비교 연산자
- 피연산자의 크기를 비교하여 불리언 값을 반환(>, <, >=, <=)


# 7-4. 삼항 조건 연산자 (ternary operator)
- 조건식의 평가 결과에 따라 반환할 값을 결정
- 삼항 조건 연산자 표현식은 값으로 평가할 수 있는 표현식인 문


# 7-5. 논리 조건 연산자 (logical operator)
- 우항과 좌항의 피연산자(부정 논리 연산자의 경우 우항의 피연산자)를 논리 연산한다.
- ||(논리합/OR), &&(논리곱/AND), !(부정/NOT)

````````
// 암묵적 타입 변환
!0; // --> true
!'Hello' // --> false

// 단축 평가
'Cat' && 'Dog'; // --> 'Dog'
````````
> - [ 드 모르간의 법칙 ]
> - 논리 연산자로 구성된 복잡한 표현식은 가독성이 좋지 않다.
    >   - 이 경우 드 모르간의 법칙을 활용해 좀 더 가독성 좋은 표현식으로 변환할 수 있다.
> ````````
> !(x || y) === (!x && !y)
> !(x && y) === (!x || !y)
> ````````


# 7-6. 쉼표 연산자
- 왼쪽 피연산자부터 차례대로 피연산자를 평가하고, 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과를 반환한다.

````````
var x, y, z;

x = 1, y = 2, z = 3; // 3
````````


# 7-7. 그룹 연산자
- 소괄호('()') 로 피연산자를 감싸는 그룹 연산자는, 자신의 피연산자인 표현식을 가장 먼저 평가한다.
  - 따라서 연산자의 우선순위를 조절할 수 있다.
- 그룹 연산자는 연산자 우선순위가 가장 높다.


# 7-8. typeof 연산자
- 피연산자의 데이터 타입을 문자열로 반환한다.
- null 은 "null" 이 아닌, "object" 를 반환한다!
  - 이것은 자바스크립트의 첫 번째 버전의 버그다.
  - 하지만 기존 코드에 영향을 줄 수 있기 때문에 아직까지 수정되지 못하고 있다.
  - 따라서 값이 null 타입인지 확인할 때는 typeof 연산자를 사용하지 말고, "일치 연산자(===)"를 사용하는 것이 좋다.

````````
typeof NaN // --> "number"
typeof undefined // --> "undefined"
typeof Symbol() // --> "symbol"
typeof undefined // --> "undefined"
typeof null // --> "object"
typeof [ ] // --> "object"
typeof { } // --> "object"
typeof new Date() // --> "object"
typeof /test/gi // --> "object"
typeof function(){} // --> "function"
````````
````````
var foo = null;

typeof foo === null; // --> false
foo === null; // --> true
````````
- 선언하지 않은 식별자를 typeof 연산자로 연산해 보면 ReferenceError 가 발생하지 않고 'undefined' 를 반환한다!
````````
// undeclared 식별자를 선언한 적이 없다.
typeof undeclared; // --> undefined
````````


# 7-9. 지수 연산자
- 좌항의 피연산자를 밑(base)으로, 우항의 피연산자를 지수(exponent)로 거듭 제곱하여 숫자 값을 반환한다.

````````
2 ** 2; // --> 4
2 ** 2.5 // --> 5.6567...
2 ** 0 // --> 1
2 ** -2 // --> 0.25
````````
- 지수 연산자가 도입되기 이전에는 Mate.pow 메서드를 사용했다.
````````
Math.pow(2, 2); // --> 4
Math.pow(2, 2.5); // -->  5.6567...
Math.pow(2, 0); // --> 1
Math.pow(2, -2); // --> 0.25
````````
````````
// 지수 연산자의 결합 순서는 우항에서 좌항이다. 즉, 우결합성을 갖는다.
2 ** (3 ** 2); // -->512
Math.pow(2, Math.pow(3, 2)); // --> 512
````````
- 움수를 거듭제곱의 밑으로 사용해 계산하려면 다음과 같이 괄호로 묶어야 한다.
````````
-5 ** 2;
// SyntaxError !!

(-5) ** 2; // -->25
````````
- 지수 연산자는 다른 산술 연산자와 마찬가지로 할당 연산자와 함께 사용할 수 있다.
````````
var num = 5;
num **= 2; // --> 25
````````
- 지수 연산자는 이항 연산자 중에서 우선순위가 가장 높다.
````````
2 * 5 ** 2; // --> 50
````````


# 7-10. 그 외의 연산자

| 연산자        | 개요                                |
|:-----------|:----------------------------------|
| ?.         | 옵셔널 체이닝 연산자                       |          
| ??         | null 병합 연산자                       | 
| delete     | 프로퍼티 삭제                           |
| new        | 생성자 함수를 호출할 때 사용하여 인스턴스 생성        |
| instanceof | 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별 | 
| in         | 프로퍼티 존재 확인                        | 


# 7-11. 연산자의 부수 효과
- 대부분의 연산자는 다른 코드에 영향을 주지 않는다.
- 하지만 일부 연산자는 다른 코드에 영향을 주는 부수 효과가 있다.
  - 부수 효과가 있는 연산자는 할당 연산자(=), 증가/감소 연산자(++/--), delete 연산자다.


# 7-12. 연산자 우선순위
- 여러 개의 연산자로 이뤄진 문이 실행될 때, 연산자가 실행되는 순서
- 우선순위가 높을수록 먼저 실행된다.

| 우선순위 | 연산자                                  |
|:----:|:-------------------------------------|
|  1   | ()                                   |          
|  2   | new(매개변수 존재), ., [ ], ( ), ?.        | 
|  3   | new(매개변수 미존재)                        |
|  4   | x++, x--                             |
|  5   | !x, +x, -x, ++x, --x, typeof, delete | 
|  6   | ** (이항 연산자 중에서 우선순위가 가장 높다)          | 
|  7   | *, /, %                              | 
|  8   | +, -                                 | 
|  9   | <, <=,>,>=, in, instanceof           | 
|  10  | ==, !=, ===, !==                     | 
|  11  | ?? (null 병합 연산자)                     | 
|  12  | &&                                   | 
|  13  | 논리연산자                                ||                               | 
|  14  | ? ... : ...                          | 
|  15  | 할당 연산자(=, +=, -=, ...)               | 
|  16  | ,                                    | 

