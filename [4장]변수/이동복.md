<h1> 04장 변수 </h1>

<h2> 4.1 변수란 무엇인가? 왜 필요한가? </h2>

변수는 *하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름이다.*
*즉, 값의 위치를 가리키는 상징적인 이름이다.*

```
20 + 30
```
사람은 위의 연산 값이 있다고 가정했을 때 바로 연산하고 머리에 기억하여 이를 말할 수 있다. 

```
// result는 변수명
// 50은 변수 값
// 변수에 값을 저장하는 것을 할당(대입, 저장)
// 변수에 값을 읽어 들이는 것을 참조라고 한다.
var result = 20 + 30;
```
컴퓨터의 경우에는 그렇지 않다. 컴퓨터는 연산 값을 메모리 공간에 연산 값을 저장하기 위해 변수가 필요하다. 
이 변수는 연산 값이 저장된 메모리 공간의 주소 값을 의미한다.

<h2> 4.2 식별자 </h2>

변수 이름을 식별자라고도 한다. 어떤 값을 구별해 식별하는 고유한 이름을 말한다. 식별자는 값이 저장되어 있는 메모르 주소를 기억하는 매핑 관계를 맺으며 이 매핑 정보도 메모리에 저장되어야 한다.
이처럼 식별자는 값이 아니라 메모리 주소를 기억하고 있다.

변수, 함수, 클래스 등의 이름은 모두 식별자이다. 즉, 메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자이다.
식별자는 선언에 의해 존재를 알린다.

<h2> 4.3 변수 선언 </h2>

변수 선언은 변수를 생성하는 것을 말한다. 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게하는 준비인 셈이다.

**변수를 사용하려면 반드시 선언이 필요하고 var, let, const 키워드를 사용한다.**

```
// 변수 score에 아무런 값도 할당되지 않아 undefined라는 값이 할당되어 초기화되어 있다.
// undefined은 원시 타입의 값이다.
var score;
```

	 변수 이름은 어디에 등록되는가?
	 변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록된다. 
	 실행컨텍스트는 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다. 
	 자바스크립트 엔진은 실행 컨텍스트를 통해 식별자와 스코프를 관리한다.
	 변수 이름과 변수 값은 실행 컨텍스트 내에 키/값 형식인 객체로 등록되어 관리된다.
	 
초기화란 변수가 선언된 이후 최초로 값이 할당되는 것을 말한다.  초기화 단계를 거치지 않으면 확보된 메모리 공간에 이전에 다른 애플리케이션이 사용했던 값이 남아 있을 수 있다.
이러한 값을 쓰레기 값이라고 하며 var 키워드는 암묵적으로 초기화를 수행하므로 이러한 위험으로부터 안전하다.

변수를 사용하려면 반드시 선언하여야 하며 선언하지 않은 식별자에 접근하면 ReferenceError가 발생한다.
	 
<h2> 4.4 변수 선언의 실행 시점과 변수 호이스팅 </h2>

```
console.log(score); // undefined

var score;  // 변수 선언문
```

자바스크립트는 인터프리터에 의해 한줄 씩 순차적으로 실행되는데 위의 코드는 참조에러가 아닌 undefined을 출력하게 된다.
그 이유는 **변수 선언이 소스코드가 한 줄씩 순차적으로 실행되는 시점, 즉 런타임이 아니라 그 이전 단계에서 실행되기 때문이다. **

자바스크립트 엔진 실행 순서
1. 먼저 소스코드의 평가 과정을 거쳐 소스코드를 실행하기 위한 준비를 한다. 
2. 그 이후에 소스코드를 한 줄씩 순차적으로 실행한다.

1의 평가 과정에서 변수 선언을 포함한 모든 선언문(변수 선언문, 함수 선언문 등)을 소스코드에서 찾아내 먼저 실행한다.
이처럼 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 변수 호이스팅이라 한다.

*변수 선언뿐 아니라 var, let, const, function, function*, class 키워드를 사용해 선언하는 모든 식별자(변수, 함수, 클래스 등)는 호이스팅된다. 모든 선언문은 런타임 이전 단계에서 먼저 실행되기 때문이다.

<h2> 4.5 값의 할당 </h2>

```
var score;  // 변수 선언
score = 120;  // 값의 할당

var newScore = 120; // 변수 선언과 값의 할당
```

위의 코드에서 선언과 할당을 단축 표현하더라도 자바스크립트 엔진은 2개의 문으로 나누어 각각 실행한다.

**변수 선언과 값의 할당 실행 시점이 다르다. 변수 선언은 실행 컨텍스트 시점에서 실행되고 값의 할당은 런타임에서 실행된다.**

```
// var score = 120; 단축 표현을 하더라도 아래와 같은 결과를 가진다.

console.log(score);	// undefined

var score;  // 1. 변수 선언
score = 120;  // 2. 값의 할당

console.log(score);  // 120
```

```
console.log(score);  // undefined

score = 120;
var score;		

console.log(score);  // ??
```

<h2> 4.6 값의 재할당</h2>

```
var score = 120;  // 변수 선언과 값의 할당
var scroe = 20;  // 값의 재할당
```

**값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없다면 변수가 아니라 상수(constant)라 한다.**
120이 저장되어 할당된 메모리 주소에 20을 다시 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 그 메모리 공간에 20을 저장한다.
즉 변수 선언시 매핑된 메모리 주소, 값이 할당된 시점의 메모리 주소, 값이 재할당된 시점의 메모리 주소는 모두 다르다. 이런 불필요한 값들은 가비지 콜렉터에 의해 메모리에서 자동 해제되며 해제 시점은 알 수 없다.

	가비지 콜렉터
	애플리케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제하는 기능을 말한다.
	더 이상 사용되지 않는 메모리란 어떤 식별자도 참조하지 않는 메모리 공간이다.
	자바스크립트는 가비지 콜렉터를 내장한 매니지드 언어로 메모르 누수를 방지한다.

	언매니지드 언어와 매니지드 언어
	C언어는 언매니지드 언어로 개발자가 명시적으로 메모리를 할당하고 해제하는 저수준 메모리 제어 기능을 제공하여 개발자가 최적의 성능을 확보할 수 있음과 동시에 치명적 오류를 생산할 가능성을 가진다.
	자바스크립트는 매니지드 언어로 가비지 콜렉터가 메모리를 관리하여 성능 면에서 손실이 발생할 수 있다.

<h2> 4.7 식별자 네이밍 규칙</h2>

1.식별자는 특수문자를 제외한 문자, 숫자, 언더스코어, 달러 기호를 포함할 수 있다.
2.식별자는 특수문자를 제외한 문자, 언더스코어, 달러 기호로 시작해야 하며 숫자로 시작할 수 없다.
3.예약어는 식별자로 사용할 수 없다.

```
// 네이밍 컨벤션
// 카멜 케이스
 var firstName;
 
// 스네이크 케이스
var first_name

// 파스칼 케이스
var FirstName;

// 헝가리언 케이스
var strFirstName;
```

